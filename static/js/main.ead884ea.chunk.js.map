{"version":3,"sources":["components/Header.jsx","components/Footer.jsx","components/Preloader.jsx","components/GoodsItem.jsx","components/GoodsList.jsx","components/Cart.jsx","components/BasketItem.jsx","components/BasketList.jsx","components/Alert.jsx","components/Shop.jsx","config.js","App.js","index.js"],"names":["Header","className","href","id","Footer","Date","getFullYear","Preloader","GoodsItem","props","name","description","price","full_background","addToBasket","Function","prototype","src","alt","onClick","style","fontSize","GoodsList","goods","length","map","item","Cart","quantity","handleBasketShow","BasketItem","removeFromBasket","incQuantity","decQuantity","class","BasketList","order","totalPrice","reduce","sum","el","Alert","closeAlert","useEffect","timerId","setTimeout","clearTimeout","Shop","useState","setGoods","loading","setLoading","setOrder","isBasketShow","setBasketShow","alertName","setAlertName","fetch","headers","Authorization","process","then","response","json","data","featured","itemIndex","findIndex","orderItem","newItem","newOrder","index","itemId","filter","newQuantity","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kMAiBeA,MAjBf,WACE,OACE,qBAAKC,UAAU,iBAAf,SACE,sBAAKA,UAAU,cAAf,UACE,mBAAGC,KAAK,IAAID,UAAU,aAAtB,wBAGA,oBAAIE,GAAG,aAAaF,UAAU,6BAA9B,SACE,6BACE,mBAAGC,KAAK,KAAR,4BCMGE,MAff,WACE,OACE,wBAAQH,UAAU,8BAAlB,SACE,qBAAKA,UAAU,mBAAf,SACE,sBAAKA,UAAU,YAAf,mBACK,IAAII,MAAOC,cADhB,kBAEE,mBAAGL,UAAU,iCAAiCC,KAAK,KAAnD,0B,qBCAKK,MANf,WACE,OAAQ,qBAAKN,UAAU,WAAf,SACN,qBAAKA,UAAU,qBCsCJO,MAxCf,SAAmBC,GAAQ,IAEvBN,EAMEM,EANFN,GACAO,EAKED,EALFC,KACAC,EAIEF,EAJFE,YACAC,EAGEH,EAHFG,MACAC,EAEEJ,EAFFI,gBANsB,EAQpBJ,EADFK,mBAPsB,MAORC,SAASC,UAPD,EAUxB,OACE,sBAAKf,UAAU,OAAf,UACE,qBAAKA,UAAU,aAAf,SACE,qBAAKgB,IAAKJ,EAAiBK,IAAKR,MAElC,sBAAKT,UAAU,eAAf,UACE,sBAAMA,UAAU,aAAhB,SAA8BS,IAC9B,4BAAIC,OAEN,sBAAKV,UAAU,cAAf,UACE,wBACEA,UAAU,MACVkB,QAAS,kBACPL,EAAY,CACVX,KACAO,OACAE,WANN,kDAYA,uBAAMX,UAAU,QAAQmB,MAAO,CAAEC,SAAU,UAA3C,UACGT,EADH,iCCdOU,MAhBf,SAAmBb,GAAQ,IAAD,EACiCA,EAAjDc,aADgB,MACR,GADQ,IACiCd,EAArCK,mBADI,MACUC,SAASC,UADnB,EAGxB,OAAKO,EAAMC,OAKT,qBAAKvB,UAAU,QAAf,SACGsB,EAAME,KAAI,SAACC,GAAD,OACT,cAAC,EAAD,2BAA6BA,GAA7B,IAAmCZ,YAAaA,IAAhCY,EAAKvB,SANlB,+CCKIwB,MAXf,SAAclB,GAAQ,IAAD,EAC6CA,EAAxDmB,gBADW,MACA,EADA,IAC6CnB,EAA1CoB,wBADH,MACsBd,SAASC,UAD/B,EAGnB,OACE,sBAAKf,UAAU,gCAAgCkB,QAASU,EAAxD,UACE,mBAAG5B,UAAU,iBAAb,2BACC2B,EAAW,sBAAM3B,UAAU,gBAAhB,SAAiC2B,IAAmB,SC4BvDE,MAlCf,SAAoBrB,GAAQ,IAExBN,EAOEM,EAPFN,GACAO,EAMED,EANFC,KACAE,EAKEH,EALFG,MACAgB,EAIEnB,EAJFmB,SALuB,EASrBnB,EAHFsB,wBANuB,MAMJhB,SAASC,UANL,IASrBP,EAFFuB,mBAPuB,MAOTjB,SAASC,UAPA,IASrBP,EADFwB,mBARuB,MAQTlB,SAASC,UARA,EAUzB,OACE,qBAAIf,UAAU,kBAAd,UACGS,EAAM,IACP,mBACET,UAAU,iCACVkB,QAAS,kBAAMc,EAAY9B,IAF7B,oBAKK,IAPP,IAQIyB,EAAU,IACZ,mBACE3B,UAAU,iCACVkB,QAAS,kBAAMa,EAAY7B,IAF7B,iBATF,KAeKS,EAAQgB,EAfb,sBAgBE,sBAAMM,MAAM,oBAAoBf,QAAS,kBAAMY,EAAiB5B,IAAhE,SACE,mBAAG+B,MAAM,+BAAT,yBCgBOC,MA1Cf,SAAoB1B,GAAQ,IAAD,EAOrBA,EALF2B,aAFuB,MAEf,GAFe,IAOrB3B,EAJFoB,wBAHuB,MAGJd,SAASC,UAHL,IAOrBP,EAHFsB,wBAJuB,MAIJhB,SAASC,UAJL,IAOrBP,EAFFuB,mBALuB,MAKTjB,SAASC,UALA,IAOrBP,EADFwB,mBANuB,MAMTlB,SAASC,UANA,EASnBqB,EAAaD,EAAME,QAAO,SAACC,EAAKC,GACpC,OAAOD,EAAMC,EAAG5B,MAAQ4B,EAAGZ,WAC1B,GAEH,OACE,qBAAI3B,UAAU,yBAAd,UACE,oBAAIA,UAAU,yBAAd,wDACCmC,EAAMZ,OACLY,EAAMX,KAAI,SAACC,GAAD,OACR,cAAC,EAAD,2BAEMA,GAFN,IAGEK,iBAAkBA,EAClBC,YAAaA,EACbC,YAAaA,IAJRP,EAAKvB,OAQd,oBAAIF,UAAU,kBAAd,uFAEF,qBAAIA,UAAU,yBAAd,oGACoBoC,EADpB,yBAGA,oBAAIpC,UAAU,kBAAd,SACE,wBAAQA,UAAU,iBAAlB,2DAEF,mBAAGA,UAAU,8BAA8BkB,QAASU,EAApD,uBCnCN,SAASY,EAAMhC,GAAQ,IAAD,EACmCA,EAA/CC,YADY,MACL,GADK,IACmCD,EAApCiC,kBADC,MACY3B,SAASC,UADrB,EAYpB,OATA2B,qBAAU,WACR,IAAMC,EAAUC,WAAWH,EAAY,KAEvC,OAAO,WACLI,aAAaF,MAGd,CAAClC,IAGF,qBAAKP,GAAG,kBAAR,SACE,sBAAKF,UAAU,QAAf,UAAwBS,EAAxB,2GCuGSqC,MA/Gf,WAAiB,IAAD,EACYC,mBAAS,IADrB,mBACPzB,EADO,KACA0B,EADA,OAEgBD,oBAAS,GAFzB,mBAEPE,EAFO,KAEEC,EAFF,OAGYH,mBAAS,IAHrB,mBAGPZ,EAHO,KAGAgB,EAHA,OAIwBJ,oBAAS,GAJjC,mBAIPK,EAJO,KAIOC,EAJP,OAKoBN,mBAAS,IAL7B,mBAKPO,EALO,KAKIC,EALJ,KAOR3B,EAAmB,WACvByB,GAAeD,IAiFjB,OAZAV,qBAAU,WACRc,MCpFY,yCDoFG,CACbC,QAAS,CACPC,cCxFQC,yCD2FTC,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GACLA,EAAKC,UAAYhB,EAASe,EAAKC,UAC/Bd,GAAW,QAEd,IAED,uBAAMlD,UAAU,oBAAhB,UACE,cAAC,EAAD,CAAM2B,SAAUQ,EAAMZ,OAAQK,iBAAkBA,IAC/CqB,EACC,cAAC,EAAD,IAEA,cAAC,EAAD,CAAW3B,MAAOA,EAAOT,YA/CX,SAACY,GACnB,IAAMwC,EAAY9B,EAAM+B,WAAU,SAACC,GAAD,OAAeA,EAAUjE,KAAOuB,EAAKvB,MAEvE,GAAI+D,EAAY,EAAG,CACjB,IAAMG,EAAO,2BACR3C,GADQ,IAEXE,SAAU,IAEZwB,EAAS,GAAD,mBAAKhB,GAAL,CAAYiC,SACf,CACL,IAAMC,EAAWlC,EAAMX,KAAI,SAAC2C,EAAWG,GACrC,OAAIA,IAAUL,EACL,2BACFE,GADL,IAEExC,SAAUwC,EAAUxC,SAAW,IAG1BwC,KAGXhB,EAASkB,GAEXd,EAAa9B,EAAKhB,SA2Bf2C,GACC,cAAC,EAAD,CACEjB,MAAOA,EACPP,iBAAkBA,EAClBE,iBA1FiB,SAACyC,GACxB,IAAMF,EAAWlC,EAAMqC,QAAO,SAACjC,GAAD,OAAQA,EAAGrC,KAAOqE,KAChDpB,EAASkB,IAyFHtC,YAtFY,SAACwC,GACnB,IAAMF,EAAWlC,EAAMX,KAAI,SAACe,GAC1B,GAAIA,EAAGrC,KAAOqE,EAAQ,CACpB,IAAME,EAAclC,EAAGZ,SAAW,EAClC,OAAO,2BACFY,GADL,IAEEZ,SAAU8C,IAGZ,OAAOlC,KAIXY,EAASkB,IA0EHrC,YAvEY,SAACuC,GACnB,IAAMF,EAAWlC,EAAMX,KAAI,SAACe,GAC1B,GAAIA,EAAGrC,KAAOqE,EAAQ,CACpB,IAAME,EAAclC,EAAGZ,SAAW,EAClC,OAAO,2BACFY,GADL,IAEEZ,SAAU8C,GAAe,EAAIA,EAAc,IAG7C,OAAOlC,KAIXY,EAASkB,MA6DNf,GAAa,cAACd,EAAD,CAAO/B,KAAM6C,EAAWb,WAjCvB,WACjBc,EAAa,WEnEFmB,MAVf,WACE,OACE,qCACE,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,QCNNC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.ead884ea.chunk.js","sourcesContent":["function Header() {\n  return (\n    <nav className=\"green darken-1\">\n      <div className=\"nav-wrapper\">\n        <a href=\"#\" className=\"brand-logo\">\n          React Shop\n        </a>\n        <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n          <li>\n            <a href=\"!#\">Repo</a>\n          </li>\n        </ul>\n      </div>\n    </nav>\n  );\n}\n\nexport default Header;\n","function Footer() {\n  return (\n    <footer className=\"page-footer green lighten-4\">\n      <div className=\"footer-copyright\">\n        <div className=\"container\">\n          © {new Date().getFullYear()} Copyright Text\n          <a className=\"grey-text text-lighten-4 right\" href=\"#!\">\n            Repo\n          </a>\n        </div>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","function Preloader() {\n  return (<div className=\"progress\">\n    <div className=\"indeterminate\"></div>\n  </div>);\n}\n\nexport default Preloader;\n","function GoodsItem(props) {\n  const {\n    id,\n    name,\n    description,\n    price,\n    full_background,\n    addToBasket = Function.prototype,\n  } = props;\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-image\">\n        <img src={full_background} alt={name} />\n      </div>\n      <div className=\"card-content\">\n        <span className=\"card-title\">{name}</span>\n        <p>{description}</p>\n      </div>\n      <div className=\"card-action\">\n        <button\n          className=\"btn\"\n          onClick={() =>\n            addToBasket({\n              id,\n              name,\n              price,\n            })\n          }\n        >\n          Купить\n        </button>\n        <span className=\"right\" style={{ fontSize: \"1.8rem\" }}>\n          {price} руб.\n        </span>\n      </div>\n    </div>\n  );\n}\n\nexport default GoodsItem;\n","import GoodsItem from \"./GoodsItem\";\n\nfunction GoodsList(props) {\n  const { goods = [], addToBasket = Function.prototype } = props;\n\n  if (!goods.length) {\n    return <h3>Nothing here</h3>;\n  }\n\n  return (\n    <div className=\"goods\">\n      {goods.map((item) => (\n        <GoodsItem key={item.id} {...item} addToBasket={addToBasket}/>\n      ))}\n    </div>\n  );\n}\n\nexport default GoodsList;\n","function Cart(props) {\n  const { quantity = 0, handleBasketShow = Function.prototype } = props;\n\n  return (\n    <div className=\"cart blue darken-4 white-text\" onClick={handleBasketShow}>\n      <i className=\"material-icons\">shopping_cart</i>\n      {quantity ? <span className=\"cart-quantity\">{quantity}</span> : null}\n    </div>\n  );\n}\n\nexport default Cart;\n","function BasketItem(props) {\n  const {\n    id,\n    name,\n    price,\n    quantity,\n    removeFromBasket = Function.prototype,\n    incQuantity = Function.prototype,\n    decQuantity = Function.prototype,\n  } = props;\n  return (\n    <li className=\"collection-item\">\n      {name}{\" \"}\n      <i\n        className=\"material-icons basket-quantity\"\n        onClick={() => decQuantity(id)}\n      >\n        remove\n      </i>{\" \"}\n      x{quantity}{\" \"}\n      <i\n        className=\"material-icons basket-quantity\"\n        onClick={() => incQuantity(id)}\n      >\n        add\n      </i>\n      = {price * quantity} руб\n      <span class=\"secondary-content\" onClick={() => removeFromBasket(id)}>\n        <i class=\"material-icons basket-delete\">close</i>\n      </span>\n    </li>\n  );\n}\n\nexport default BasketItem;\n","import BasketItem from \"./BasketItem\";\n\nfunction BasketList(props) {\n  const {\n    order = [],\n    handleBasketShow = Function.prototype,\n    removeFromBasket = Function.prototype,\n    incQuantity = Function.prototype,\n    decQuantity = Function.prototype,\n  } = props;\n\n  const totalPrice = order.reduce((sum, el) => {\n    return sum + el.price * el.quantity;\n  }, 0);\n\n  return (\n    <ul className=\"collection basket-list\">\n      <li className=\"collection-item active\">Корзина</li>\n      {order.length ? (\n        order.map((item) => (\n          <BasketItem\n            key={item.id}\n            {...item}\n            removeFromBasket={removeFromBasket}\n            incQuantity={incQuantity}\n            decQuantity={decQuantity}\n          />\n        ))\n      ) : (\n        <li className=\"collection-item\">Корзина пуста</li>\n      )}\n      <li className=\"collection-item active\">\n        Общая стоимость: {totalPrice} руб\n      </li>\n      <li className=\"collection-item\">\n        <button className=\"btn btn-small \">Офoрмить</button>\n      </li>\n      <i className=\"material-icons basket-close\" onClick={handleBasketShow}>\n        close\n      </i>\n    </ul>\n  );\n}\n\nexport default BasketList;\n","import { useEffect } from \"react\";\n\nfunction Alert(props) {\n  const { name = \"\", closeAlert = Function.prototype } = props;\n\n  useEffect(() => {\n    const timerId = setTimeout(closeAlert, 3000);\n\n    return () => {\n      clearTimeout(timerId);\n    };\n    // eslint-disable-next-line\n  }, [name]);\n\n  return (\n    <div id=\"toast-container\">\n      <div className=\"toast\">{name} добавлен в корзину</div>\n    </div>\n  );\n}\n\nexport { Alert };\n","import React, { useState, useEffect } from \"react\";\nimport { API_KEY, API_URL } from \"../config\";\nimport Preloader from \"./Preloader\";\nimport GoodsList from \"./GoodsList\";\nimport Cart from \"./Cart\";\nimport BasketList from \"./BasketList\";\nimport { Alert } from \"./Alert\";\n\nfunction Shop() {\n  const [goods, setGoods] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [order, setOrder] = useState([]);\n  const [isBasketShow, setBasketShow] = useState(false);\n  const [alertName, setAlertName] = useState(\"\");\n\n  const handleBasketShow = () => {\n    setBasketShow(!isBasketShow);\n  };\n\n  const removeFromBasket = (itemId) => {\n    const newOrder = order.filter((el) => el.id !== itemId);\n    setOrder(newOrder);\n  };\n\n  const incQuantity = (itemId) => {\n    const newOrder = order.map((el) => {\n      if (el.id === itemId) {\n        const newQuantity = el.quantity + 1;\n        return {\n          ...el,\n          quantity: newQuantity,\n        };\n      } else {\n        return el;\n      }\n    });\n\n    setOrder(newOrder);\n  };\n\n  const decQuantity = (itemId) => {\n    const newOrder = order.map((el) => {\n      if (el.id === itemId) {\n        const newQuantity = el.quantity - 1;\n        return {\n          ...el,\n          quantity: newQuantity >= 0 ? newQuantity : 0,\n        };\n      } else {\n        return el;\n      }\n    });\n\n    setOrder(newOrder);\n  };\n\n  const addToBasket = (item) => {\n    const itemIndex = order.findIndex((orderItem) => orderItem.id === item.id);\n\n    if (itemIndex < 0) {\n      const newItem = {\n        ...item,\n        quantity: 1,\n      };\n      setOrder([...order, newItem]);\n    } else {\n      const newOrder = order.map((orderItem, index) => {\n        if (index === itemIndex) {\n          return {\n            ...orderItem,\n            quantity: orderItem.quantity + 1,\n          };\n        } else {\n          return orderItem;\n        }\n      });\n      setOrder(newOrder);\n    }\n    setAlertName(item.name);\n  };\n\n  const closeAlert = () => {\n    setAlertName(\"\");\n  };\n\n  useEffect(function getGoods() {\n    fetch(API_URL, {\n      headers: {\n        Authorization: API_KEY,\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        data.featured && setGoods(data.featured);\n        setLoading(false);\n      });\n  }, []);\n  return (\n    <main className=\"container content\">\n      <Cart quantity={order.length} handleBasketShow={handleBasketShow} />\n      {loading ? (\n        <Preloader />\n      ) : (\n        <GoodsList goods={goods} addToBasket={addToBasket} />\n      )}\n      {isBasketShow && (\n        <BasketList\n          order={order}\n          handleBasketShow={handleBasketShow}\n          removeFromBasket={removeFromBasket}\n          incQuantity={incQuantity}\n          decQuantity={decQuantity}\n        />\n      )}\n      {alertName && <Alert name={alertName} closeAlert={closeAlert} />}\n    </main>\n  );\n}\n\nexport default Shop;\n","const API_KEY = process.env.REACT_APP_API_KEY;\n\nconst API_URL = \"https://fortniteapi.io/v1/shop?lang=ru\";\n\nexport { API_KEY, API_URL };\n","import React from \"react\";\nimport Header from \"./components/Header\";\nimport Footer from \"./components/Footer\";\nimport Shop from \"./components/Shop\";\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <Shop />\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}